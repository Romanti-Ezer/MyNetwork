<template>
    <div class="h-screen bg-white">
        <div class="flex">
            <div class="pl-6 bg-gray-200 w-48 h-screen border-r-2 border-gray-400">
                <nav class="pt-4">
                    <router-link to="/">
                        <svg class="w-20 text-blue-600 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 187.14746 61.64453"><title>Ativo 5</title><g id="Camada_2" data-name="Camada 2"><g id="Camada_1-2" data-name="Camada 1"><path d="M46.398,52.479a5.30156,5.30156,0,0,1-5.126,4.14063c-2.49756,0-4.40332-1.90625-4.0747-4.14063l3.15478-22.60742L30.82227,44.59229a5.50607,5.50607,0,0,1-4.73145,2.498,3.80286,3.80286,0,0,1-3.87744-2.498L16.7583,29.87158,13.604,52.479c-.32861,2.23438-2.76025,4.14063-5.32324,4.14063A3.65791,3.65791,0,0,1,4.40332,52.479L9.85791,13.44141A5.292,5.292,0,0,1,15.24707,9.104c2.103,0,3.61426.8545,4.20606,2.563l8.47753,23.19873L42.84912,11.60156A5.53192,5.53192,0,0,1,47.77832,9.104a3.80081,3.80081,0,0,1,4.07422,4.33741Z" transform="translate(-4.36288 -9.104)" /><path d="M64.603,44.00146c-.39405,3.02247.59179,4.92872,3.812,4.92872a9.05459,9.05459,0,0,0,5.58594-1.709L76.9585,26.45361c.26269-2.23437,2.03711-3.94238,5.06054-3.94238,3.02295,0,4.27149,1.708,4.00879,3.94238L81.55908,58.19678c-.98584,7.03222-5.915,12.55176-15.51025,12.55176-3.61426,0-10.3833-1.18262-10.3833-4.92872,0-2.2998,2.16845-4.13964,4.73144-4.13964a5.94489,5.94489,0,0,1,2.0376.39355,8.33882,8.33882,0,0,0,4.14014,1.11719c3.74609,0,5.45508-1.83985,5.915-4.99414l.394-2.82617A19.42069,19.42069,0,0,1,66.312,56.42236c-9.46387,0-11.76367-5.32324-10.77783-12.4209l2.49707-17.54785c.2627-2.23437,2.169-3.94238,5.06055-3.94238s4.3374,1.708,4.00879,3.94238Z" transform="translate(-4.36288 -9.104)" /><path d="M115.209,54.31885,103.64209,27.76807l-3.41748,24.5791a5.44036,5.44036,0,0,1-5.25732,4.27246,3.74616,3.74616,0,0,1-3.94336-4.27246l5.45459-38.77442A5.29341,5.29341,0,0,1,101.86768,9.104a4.651,4.651,0,0,1,4.14062,2.43164c4.46875,10.1211,6.96582,16.10157,11.50049,26.68262l3.4834-24.84228a5.44044,5.44044,0,0,1,5.25732-4.272,3.74577,3.74577,0,0,1,3.94336,4.272L124.73828,52.1499a5.37865,5.37865,0,0,1-5.45508,4.46973A4.56163,4.56163,0,0,1,115.209,54.31885Z" transform="translate(-4.36288 -9.104)" /><path d="M141.95947,43.08154l-.32861,2.168c-.32861,2.23438,1.1831,3.68067,4.73193,3.68067a15.62065,15.62065,0,0,0,6.17774-1.44629,4.20641,4.20641,0,0,1,1.97168-.39356c2.82568,0,3.61425,1.77442,3.61425,3.1543,0,4.99414-9.06933,6.24316-13.47216,6.24316-8.6753,0-12.94678-4.99414-12.02686-11.501l1.51172-10.97461c.91992-6.6377,6.50586-11.69825,15.64111-11.69825,7.75489,0,11.501,3.877,11.501,9.59473,0,7.09766-4.272,11.56641-14.32715,11.56641A33.29445,33.29445,0,0,1,141.95947,43.08154Zm6.769-13.73633c-3.1543,0-5.06006,1.64356-5.45459,4.27247l-.394,2.82617c2.103.19629,4.07422.26269,4.73145.26269,2.82617,0,4.60058-1.05175,4.60058-4.40332C152.21191,30.19971,151.02881,29.34521,148.72852,29.34521Z" transform="translate(-4.36288 -9.104)" /><path d="M169.49707,16.85889a4.76651,4.76651,0,0,1,5.06055-4.00879c2.8916,0,4.3374,1.83984,4.00879,4.00879l-1.05176,7.29492h4.86328a3.55116,3.55116,0,0,1,3.812,3.4834c0,2.49707-2.30029,4.33691-4.9292,4.33691h-4.86328L175.01758,41.898c-.65723,4.86328-.52588,6.57226,2.6289,6.57226.59131,0,.98536-.06542,1.11719-.06542,3.68018,0,4.92871.91992,4.92871,2.8916,0,4.40332-3.35156,4.99414-6.96631,4.99414-10.18652,0-12.09228-4.99414-10.84375-13.93262Z" transform="translate(-4.36288 -9.104)" /><rect x="90.74319" y="52.17004" width="96.40427" height="2.53695" /></g></g></svg>
                    </router-link>

                    <p class="pt-12 text-gray-500 text-xs uppercase font-bold ">Create</p>
                    <router-link to="/contacts/create" class="flex items-center py-2 hover:text-blue-600 text-sm">
                        <svg viewBox="0 0 24 24" class="fill-current text-blue-600 w-5 h-5"><path d="M23.3 11.9c0 .9-.6 1.4-1.4 1.4h-8.5v8.5c0 .9-.6 1.4-1.4 1.4s-1.4-.6-1.4-1.4v-8.5H2c-.9 0-1.4-.6-1.4-1.4 0-.9.6-1.4 1.4-1.4h8.5V1.9c0-.9.6-1.4 1.4-1.4s1.4.6 1.4 1.4v8.5h8.5c.9 0 1.5.6 1.5 1.5z"/></svg>
                        <div class="tracking-wide pl-3">Add New</div>
                    </router-link>

                    <p class="pt-12 text-gray-500 text-xs uppercase font-bold ">General</p>
                    <router-link to="/" class="flex items-center py-2 hover:text-blue-600 text-sm">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current text-blue-600 w-5 h-5"><path class="st0" d="M20 2h-1V1c0-.6-.4-1-1-1s-1 .4-1 1v1h-4V1c0-.6-.4-1-1-1s-1 .4-1 1v1H7V1c0-.6-.4-1-1-1S5 .4 5 1v1H4C1.8 2 0 3.8 0 6v14c0 2.2 1.8 4 4 4h16c2.2 0 4-1.8 4-4V6c0-2.2-1.8-4-4-4zM4 4h1v1c0 .6.4 1 1 1s1-.4 1-1V4h4v1c0 .6.4 1 1 1s1-.4 1-1V4h4v1c0 .6.4 1 1 1s1-.4 1-1V4h1c1.1 0 2 .9 2 2v2H2V6c0-1.1.9-2 2-2zm16 18H4c-1.1 0-2-.9-2-2V10h20v10c0 1.1-.9 2-2 2zM8 14c0 .6-.4 1-1 1H5c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1zm6 0c0 .6-.4 1-1 1h-2c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1zm6 0c0 .6-.4 1-1 1h-2c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1zM8 18c0 .6-.4 1-1 1H5c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1zm6 0c0 .6-.4 1-1 1h-2c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1zm6 0c0 .6-.4 1-1 1h-2c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1z"/></svg>
                        <div class="tracking-wide pl-3">Contacts</div>
                    </router-link>
                    <router-link to="/" class="flex items-center py-2 hover:text-blue-600 text-sm">
                        <svg viewBox="0 0 24 24" class="fill-current text-blue-600 w-5 h-5"><path fill-rule="evenodd" d="M12.1 6.8c1.2 0 2.1-1 2.1-2.1 0-.4-.1-.8-.3-1.1L12.1.5l-1.8 3.1c-.2.3-.3.6-.3 1 0 1.2 1 2.2 2.1 2.2zm6.4 3.1h-5.3V7.8h-2.1v2.1H5.8c-1.8 0-3.2 1.4-3.2 3.2v9.5c0 .6.5 1.1 1.1 1.1h16.9c.6 0 1.1-.5 1.1-1.1v-9.5c0-1.8-1.5-3.2-3.2-3.2zm1 11.7H4.7v-3.2c1 0 1.9-.4 2.5-1.1l1.2-1.1 1.1 1.1c1.4 1.4 3.8 1.4 5.2 0l1.1-1.1 1.1 1.1c.7.7 1.6 1.1 2.5 1.1v3.2h.1zm0-4.8c-.5 0-1-.2-1.4-.6l-2.3-2.3-2.3 2.3c-.8.8-2.1.8-2.9 0l-2.3-2.3L6 16.2c-.4.4-.9.6-1.4.6v-3.7c0-.6.5-1.1 1.1-1.1h12.7c.6 0 1.1.5 1.1 1.1v3.7z" clip-rule="evenodd"/></svg>
                        <div class="tracking-wide pl-3">Birthdays</div>
                    </router-link>

                    <p class="pt-12 text-gray-500 text-xs uppercase font-bold ">Settings</p>
                    <router-link to="/" class="flex items-center py-2 hover:text-blue-600 text-sm">
                        <svg viewBox="0 0 24 24" class="fill-current text-blue-600 w-5 h-5"><path d="M21 3h-3.8c-.7 0-1.3-.6-1.3-1.3S16.5.4 17.2.4h5.1c.7 0 1.3.6 1.3 1.3v20.5c0 .7-.6 1.3-1.3 1.3h-5.1c-.7 0-1.3-.6-1.3-1.3 0-.7.6-1.3 1.3-1.3H21V3zm-6.9 7.7L8.6 5.2c-.5-.5-.6-1.3-.1-1.8s1.3-.5 1.8 0l7.7 7.7c.8.8.2 2.2-.9 2.2H1.8c-.7 0-1.3-.6-1.3-1.3 0-.7.6-1.3 1.3-1.3h12.3zm-1.6 4.8c.5-.5 1.3-.4 1.8.1s.4 1.3-.1 1.8l-3.8 3.2c-.5.5-1.3.4-1.8-.1-.6-.5-.5-1.3 0-1.7l3.9-3.3z"/></svg>
                        <div class="tracking-wide pl-3">Logout</div>
                    </router-link>
                </nav>
            </div>
            <div class="flex flex-col flex-1 h-screen overflow-y-hidden">
                <div class="h-16 px-6 border-b border-gray-400 flex items-center justify-between">
                    <div>
                        Contacts
                    </div>
                    <UserCircle :name="user.name"/>
                </div>

                <div class="flex flex-col overflow-y-hidden flex-1">
                    <router-view class="overflow-x-hidden p-6"></router-view>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
    import UserCircle from './UserCircle';

    export default {
        name: "App",

        props: [
            'user'
        ],

        components: {
            UserCircle
        },

        created() {
            window.axios.interceptors.request.use(
                (config) => {
                    if (config.method === 'get') {
                        config.url = config.url + '?api_token=' + this.user.api_token
                    } else {
                        config.data = {
                            ...config.data,
                            api_token: this.user.api_token
                        };
                    }

                    return config;
                }
            )
        }
    }
</script>

<style>

</style>